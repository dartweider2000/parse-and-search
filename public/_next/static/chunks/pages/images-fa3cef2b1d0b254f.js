(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1870:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images",function(){return t(1990)}])},5369:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(5893),a=t(7294),i=t(4184),o=t.n(i),u=t(4930),s=t(8885),c=t.n(s),l=t(944);function d(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var f=function(e){var r=e.data,t=d(e,["data"]),i=(0,u.ev)().openLightbox;(0,a.useLayoutEffect)((function(){document.querySelectorAll(".".concat(c().imageWrapper)).forEach((function(e){var r=parseInt(e.dataset.width,10),t=parseInt(e.dataset.height,10);e.style.flex="".concat(r/t)}))}),[r]);var s=(0,a.useMemo)((function(){return r.data.map((function(e){return{src:e.url,thumbnail:e.thumbUrl,width:e.thumbnailWidth,height:e.thumbnailHeight,caption:e.title}}))}),[r]),f=function(e){var r=e.currentTarget.dataset,t=r.id,n=r.url,a=r.ruid,o=r.suid;t&&i(parseInt(t,10)),(0,l.Z)(n,a,o,"images")};return(0,n.jsxs)("div",{className:o()(c().gallery,t.className),children:[(0,n.jsx)(u.Iv,{elements:s,options:{settings:{lightboxTransitionSpeed:.1,slideTransitionSpeed:.1},buttons:{showAutoplayButton:!1,showDownloadButton:!1},progressBar:{showProgressBar:!1}}}),r.data.map((function(e,t){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("button",{className:c().imageWrapper,type:"button","data-width":e.width,"data-height":e.height,"data-id":t,"data-ruid":r.ruid,"data-suid":r.suid,"data-url":e.url,onClick:f,children:(0,n.jsx)("img",{className:c().image,src:e.thumbUrl,alt:e.title,loading:"lazy",decoding:"async",style:{aspectRatio:"".concat(e.width," / ").concat(e.height)}})}),(0,n.jsx)("hr",{className:c().break})]},JSON.stringify(e))}))]})}},5395:function(e,r,t){"use strict";t.d(r,{Z:function(){return k}});var n=t(4051),a=t.n(n),i=t(5893),o=t(7294),u=t(9008),s=t(1163),c=t(7103),l=t(4184),d=t.n(l),f=t(8533),g=t(4930),h=t(3604),m=t(8285),p=t(6718),y=t(5369),v=t(4790),_=t(7292),b=t(7055),w=t(2217),x=t.n(w);function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function S(e,r,t,n,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void t(c)}u.done?r(s):Promise.resolve(s).then(n,a)}function O(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var i=e.apply(r,t);function o(e){S(i,n,a,o,u,"next",e)}function u(e){S(i,n,a,o,u,"throw",e)}o(void 0)}))}}function N(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){N(e,r,t[r])}))}return e}function Z(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(){var e,r,t=(0,c.$G)().t,n=(0,s.useRouter)(),l=(0,o.useState)(1),w=l[0],j=l[1],S=(0,o.useState)(null),k=S[0],I=S[1],Q=(0,o.useState)(""),P=Q[0],E=Q[1],A="/webview/images"===n.pathname;(0,o.useEffect)((function(){if(n.isReady){var e=n.query;O(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,E(""),r.next=4,h.Z.feed.images({query:e.q,page:w,strict:Boolean(e.strict),uuid:e.uuid,vuid:e.vuid});case 4:n=r.sent.data,I(n),n.suid?localStorage.setItem("suid",n.suid):localStorage.removeItem("suid"),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),b.Z.error(r.t0),E(t("search-error"));case 13:A&&console.log("Render complete");case 14:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}),[n.isReady,n.query]);var M=function(){var e=O(a().mark((function e(){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.query,e.prev=1,e.next=4,h.Z.feed.images({query:r.q,page:w+1,uuid:r.uuid,vuid:r.vuid});case 4:t=e.sent.data,I((function(e){return e?q({},e,{data:Z(e.data).concat(Z(t.data))}):t})),j((function(e){return e+1})),t.suid?localStorage.setItem("suid",t.suid):localStorage.removeItem("suid"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),b.Z.error(e.t0);case 13:A&&console.log("Render complete");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.default,{children:(0,i.jsx)("title",{children:k?"".concat(null===k||void 0===k?void 0:k.originalQuery," - \u041f\u043e\u0438\u0441\u043a \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0432 Involta go"):"Involta go"})}),!A&&(0,i.jsx)(m.Z,{searchType:"images"}),P&&(0,i.jsx)("main",{className:d()(x().main,N({},x().withoutMargin,A)),children:(0,i.jsx)("p",{className:x().error,children:P})}),k&&0===(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.length)&&(0,i.jsx)("main",{className:d()(x().main,N({},x().withoutMargin,A)),children:(0,i.jsx)("p",{className:x().error,children:t("empty-search-result")})}),k&&(null===k||void 0===k||null===(r=k.data)||void 0===r?void 0:r.length)>0&&(0,i.jsxs)(g.ZP,{children:[(0,i.jsxs)("main",{className:d()(x().main,N({},x().withoutMargin,A)),children:[(null===k||void 0===k?void 0:k.alteredQuery)&&(0,i.jsx)(_.Z,{rightQuery:k.alteredQuery}),(0,i.jsx)(f.Z,{className:x().infiniteScroll,next:M,hasMore:w<k._meta.pageCount,loader:(0,i.jsx)(v.Z,{className:x().loader}),dataLength:k.data.length,children:(0,i.jsx)(y.Z,{data:k})})]}),(0,i.jsx)(p.Z,{})]})]})}},7292:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(5893),a=(t(7294),t(7103)),i=t(1664),o=t(1163),u=t(689),s=t.n(u),c=function(e){var r=e.rightQuery,t=(0,a.$G)().t,u=(0,o.useRouter)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:s().rightQuery,children:[t("search-right-query"),(0,n.jsx)(i.default,{href:{pathname:u.pathname,query:{q:r}},children:(0,n.jsx)("a",{children:r})})]}),(0,n.jsxs)("p",{className:s().wrongQuery,children:[t("search-wrong-query"),(0,n.jsx)(i.default,{href:{pathname:u.pathname,query:{q:u.query.q,strict:!0}},children:(0,n.jsx)("a",{children:u.query.q})})]})]})}},944:function(e,r){"use strict";r.Z=function(e,r,t,n){navigator.sendBeacon("https://api.involtago.com/v1/log/click",JSON.stringify({url:e,parentRuid:r,suid:t,fn:n}))}},1990:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return a}});var n=t(5395),a=!0;r.default=n.Z},8885:function(e){e.exports={gallery:"gallery_gallery__U9wc0",imageWrapper:"gallery_imageWrapper__YXeOT",image:"gallery_image__dBvC_",break:"gallery_break__Q5euK"}},2217:function(e){e.exports={main:"images-page_main__IUM39",withoutMargin:"images-page_withoutMargin__RQ_TC",infiniteScroll:"images-page_infiniteScroll__Oksvm",loader:"images-page_loader__XTs_z",spin:"images-page_spin__BoBQF",error:"images-page_error__E5t7V"}},689:function(e){e.exports={rightQuery:"wrong-query_rightQuery__AL3UI",wrongQuery:"wrong-query_wrongQuery__pMCFi"}}},function(e){e.O(0,[336,713,161,644,958,774,888,179],(function(){return r=1870,e(e.s=r);var r}));var r=e.O();_N_E=r}]);