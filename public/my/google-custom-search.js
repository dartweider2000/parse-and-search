(()=>{"use strict";document.addEventListener("DOMContentLoaded",(async e=>{const s=async(e=0,s=null,t=1)=>new Promise(((c,o)=>{let r=0;const l=setInterval((()=>{(1==t&&google||2==t&&document.querySelector(s))&&(clearInterval(l),c()),e>=2e4&&o(),r+=e}),e)})),t=location.pathname.includes("search");await Promise.all([s(),s(0,".gsc-cursor-box",2)]),t||(document.querySelectorAll(".gsc-tabsArea>div")[1].dispatchEvent(new Event("click")),await s(0,".gsc-resultsbox-visible>.gsc-resultsRoot:last-child .gsc-cursor-box",2));const c=document.querySelectorAll(".gsc-resultsRoot")[t?0:1],o=document.querySelector(".gsc-results-wrapper-overlay");o.classList.remove("gsc-results-wrapper-overlay"),o.style.position="static !important";const r=c.querySelector(".gsc-expansionArea"),l=c.querySelector(".gsc-cursor-box");r.querySelector(".gsc-imageResult")&&r.classList.add("image-content"),document.querySelector("#___gcse_0").remove();const a=document.createElement("div");a.append(r,l),a.classList.add(".my-wrapper");const n=document.querySelector("header");a.style.marginTop=`${n.offsetHeight}px`,l.addEventListener("click",(e=>{const s=e.target,t="gsc-cursor-current-page";if(s.closest(".gsc-cursor-page")&&!s.closest(`.gsc-cursor-page.${t}`)){const e=s.closest(".gsc-cursor-page");document.querySelector(`.${t}`).classList.remove(t),e.classList.add(t),window.scrollTo({left:0,top:0,behavior:"smooth"})}})),n.parentElement.after(a)}))})();